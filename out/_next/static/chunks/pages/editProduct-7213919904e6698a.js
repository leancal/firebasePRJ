(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[134],{861:function(e,a,t){"use strict";t.d(a,{FT:function(){return useButtonProps}});var r=t(7294),n=t(5893);let s=["as","disabled"];function useButtonProps({tagName:e,disabled:a,href:t,target:r,rel:n,role:s,onClick:l,tabIndex:o=0,type:c}){e||(e=null!=t||null!=r||null!=n?"a":"button");let i={tagName:e};if("button"===e)return[{type:c||"button",disabled:a},i];let handleClick=r=>{var n;if(!a&&("a"!==e||(n=t)&&"#"!==n.trim())||r.preventDefault(),a){r.stopPropagation();return}null==l||l(r)};return"a"===e&&(t||(t="#"),a&&(t=void 0)),[{role:null!=s?s:"button",disabled:void 0,tabIndex:a?void 0:o,href:t,target:"a"===e?r:void 0,"aria-disabled":a||void 0,rel:"a"===e?n:void 0,onClick:handleClick,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),handleClick(e))}},i]}let l=r.forwardRef((e,a)=>{let{as:t,disabled:r}=e,l=function(e,a){if(null==e)return{};var t,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,s),[o,{tagName:c}]=useButtonProps(Object.assign({tagName:t,disabled:r},l));return(0,n.jsx)(c,Object.assign({},l,o,{ref:a}))});l.displayName="Button"},1148:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/editProduct",function(){return t(932)}])},932:function(e,a,t){"use strict";let r;t.r(a),t.d(a,{default:function(){return UpdateProduct}});var n=t(5893),s=t(7294),l=t(8918),o=t(6686),c=t(5079),i=t(8503),d=t(5005),u=t(1676),h=t(947),m=t(594),p=t(1163),x=t(1110);let g="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var f={randomUUID:g};let j=new Uint8Array(16),b=[];for(let e=0;e<256;++e)b.push((e+256).toString(16).slice(1));var esm_browser_v4=function(e,a,t){if(f.randomUUID&&!a&&!e)return f.randomUUID();e=e||{};let n=e.random||(e.rng||function(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(j)})();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,a){t=t||0;for(let e=0;e<16;++e)a[t+e]=n[e];return a}return function(e,a=0){return b[e[a+0]]+b[e[a+1]]+b[e[a+2]]+b[e[a+3]]+"-"+b[e[a+4]]+b[e[a+5]]+"-"+b[e[a+6]]+b[e[a+7]]+"-"+b[e[a+8]]+b[e[a+9]]+"-"+b[e[a+10]]+b[e[a+11]]+b[e[a+12]]+b[e[a+13]]+b[e[a+14]]+b[e[a+15]]}(n)},components_EditProduct=()=>{var e;let a=(0,p.useRouter)(),{currentUser:t}=(0,x.aC)(),[r,g]=(0,s.useState)([]),[f,j]=(0,s.useState)([]),[b,v]=(0,s.useState)({}),[y,N]=(0,s.useState)([]),[C,Z]=(0,s.useState)(null),[w,I]=(0,s.useState)("headsets"),[E,S]=(0,s.useState)([]),[B,D]=(0,s.useState)({categories:(null===(e=c.Lm[0])||void 0===e?void 0:e.id)||"",secondCategory:"",gen:""}),[F,T]=(0,s.useState)([]),[P,k]=(0,s.useState)([]),[U,L]=(0,s.useState)([]),[G,J]=(0,s.useState)(!1),[_,R]=(0,s.useState)(!1),[z,O]=(0,s.useState)(!1),[A,V]=(0,s.useState)({title:"",img:"",desc:""}),[Q,H]=(0,s.useState)(!1),[q,K]=(0,s.useState)(null),[$,M]=(0,s.useState)([]),[W,X]=(0,s.useState)(!1),[Y,ee]=(0,s.useState)([]),[ea,et]=(0,s.useState)({title:"",img:"",desc:""}),[er,en]=(0,s.useState)(!0),[es,el]=(0,s.useState)(!C||C.published),[eo,ec]=(0,s.useState)(""),[ei,ed]=(0,s.useState)([]),[eu,eh]=(0,s.useState)([]),[em,ep]=(0,s.useState)([]),[ex,eg]=(0,s.useState)(null),[ef,ej]=(0,s.useState)([]),[eb,ev]=(0,s.useState)([]),[ey,eN]=(0,s.useState)([]),[eC,eZ]=(0,s.useState)("");(0,s.useEffect)(()=>{C&&el(C.published)},[C]),(0,s.useEffect)(()=>{C&&!1===C.published?en(!1):en(!0)},[C]);let ew=y.filter(e=>e.name.toLowerCase().includes(eo.toLowerCase())||e.sku.toLowerCase().includes(eo.toLowerCase()));(0,s.useEffect)(()=>{let fetchProducts=async()=>{let e=(0,l.ad)(h.ZP),a=(0,l.hJ)(e,w||"headsets"),t=await (0,l.PL)(a),r=[];t.forEach(e=>{r.push({id:e.id,...e.data()})}),N(r)};fetchProducts()},[w]),(0,s.useEffect)(()=>{let fetchFeatures=async()=>{let e=(0,l.ad)(h.ZP),a=(0,l.hJ)(e,"features"),t=await (0,l.PL)(a),r=[];t.forEach(e=>{r.push({id:e.id,...e.data()})}),g(r)};fetchFeatures()},[]),(0,s.useEffect)(()=>{let getFeaturesForProduct=async()=>{if(!C||!w){console.error("ID de producto o colecci\xf3n no v\xe1lidos");return}let e=(0,l.ad)(h.ZP),a=(0,l.JU)(e,w,C.id);try{let e=await (0,l.QT)(a);if(e.exists()){let a=e.data();j(a.features||[])}else console.error("El producto no existe en la base de datos.")}catch(e){console.error("Error al obtener las caracter\xedsticas del producto:",e)}};getFeaturesForProduct()},[C,w]),(0,s.useEffect)(()=>{let fetchCategories=async()=>{let e=(0,l.ad)(h.ZP),a=(0,l.hJ)(e,"categories"),t=await (0,l.PL)(a),r=[];t.forEach(e=>{r.push({id:e.id,...e.data()})}),S(r)};fetchCategories()},[]),(0,s.useEffect)(()=>{let fetchData=async()=>{if(!C||!w){console.error("ID de producto o colecci\xf3n no v\xe1lidos");return}let e=(0,l.ad)(h.ZP),a=(0,l.JU)(e,w,C.id);try{let e=await (0,l.QT)(a);if(e.exists()){let a=e.data();ed(a.includes||[])}else console.error("El producto no existe en la base de datos.")}catch(e){console.error("Error al obtener los includes del producto:",e)}let t=(0,l.hJ)(e,"includes"),r=await (0,l.PL)(t),n=[];r.forEach(e=>{n.push({id:e.id,...e.data()})}),eh(n)};fetchData()},[C,w]),(0,s.useEffect)(()=>{let fetchIncludes=async()=>{let e=(0,l.ad)(h.ZP),a=(0,l.hJ)(e,"includes"),t=await (0,l.PL)(a),r=[];t.forEach(e=>{r.push({id:e.id,...e.data()})}),ep(r)};fetchIncludes()},[]),(0,s.useEffect)(()=>{let fetchFeaturedFeatures=async()=>{if(!C||!w){console.error("ID de producto o colecci\xf3n no v\xe1lidos");return}let e=(0,l.ad)(h.ZP),a=(0,l.JU)(e,w,C.id);try{let e=await (0,l.QT)(a);if(e.exists()){let a=e.data();ev(a.featuredFeatures||[])}else console.error("El producto no existe en la base de datos.")}catch(e){console.error("Error al obtener las caracter\xedsticas destacadas del producto:",e)}};fetchFeaturedFeatures()},[C,w]),(0,s.useEffect)(()=>{let fetchFeaturedFeaturesList=async()=>{let e=(0,l.ad)(h.ZP),a=(0,l.hJ)(e,"featuredFeatures"),t=await (0,l.PL)(a),r=[];t.forEach(e=>{r.push({id:e.id,...e.data()})}),eN(r)};fetchFeaturedFeaturesList()},[]);let handleAddFeatureToProduct=async()=>{if(!eC){console.error("Selecciona una caracter\xedstica destacada para agregar.");return}await addFeatureToProduct(eC),eZ("")},addFeatureToProduct=async e=>{try{var a;if(!e){console.error("El ID de la caracter\xedstica destacada no est\xe1 definido.");return}let t=(0,l.ad)(h.ZP),r=(0,l.JU)(t,w,C.id),n=await (0,l.QT)(r),s=(null===(a=n.data())||void 0===a?void 0:a.featuredFeatures)||[],o=s.some(a=>a.id===e);if(o)console.log("La caracter\xedstica destacada ya est\xe1 presente en el producto.");else{let a=ey.find(a=>a.id===e);if(a){let e=[...s,{id:a.id,name:a.name,desc:a.desc,imageUrl:a.imageUrl}];await (0,l.r7)(r,{featuredFeatures:e}),console.log("Caracter\xedstica destacada agregada con \xe9xito en la base de datos."),ev(e)}else console.error("La caracter\xedstica destacada no se encontr\xf3 en la lista.")}}catch(e){console.error("Error al agregar la caracter\xedstica destacada en la base de datos:",e)}},getFeaturedFeaturesForProduct=async e=>{let a=(0,l.ad)(h.ZP),t=(0,l.JU)(a,w,e);try{let e=await (0,l.QT)(t);if(e.exists()){let a=e.data();ej(a.featuredFeatures||[])}else console.error("El producto no existe en la base de datos.")}catch(e){console.error("Error al obtener las caracter\xedsticas destacadas del producto:",e)}};(0,s.useEffect)(()=>{C&&getFeaturedFeaturesForProduct(C.id)},[C,w]);let handleSelectProduct=e=>{Z(e),ej(e.featuredFeatures||[]),getFeaturedFeaturesForProduct(e.id),D({...e,categories:e.categories||""});let a=e.imgs||[];k(a)},handleFeatureChange=e=>{let{value:a,name:t}=e.target;v(e=>({...e,[t]:a})),j(e=>{if(e.some(e=>e.id===t)){let r=e.map(e=>e.id===t?{...e,value:a}:e);return updateFeaturesInDatabase(r),r}{let r=[...e,{id:t,value:a}];return updateFeaturesInDatabase(r),r}})};(0,s.useEffect)(()=>{let fetchData=async()=>{let e=(0,l.ad)(h.ZP),a=(0,l.hJ)(e,"featuredFeatures"),t=await (0,l.PL)(a),r=[];t.forEach(e=>{r.push({id:e.id,...e.data()})}),ej(r)};fetchData()},[C,w]);let handleRemoveFeature=e=>{j(a=>a.filter(a=>a.id!==e)),updateFeaturesInDatabase(f.filter(a=>a.id!==e))},updateFeaturesInDatabase=async e=>{let a=(0,l.ad)(),t=C.sku;try{var r;let n=(0,l.JU)(a,C.selectedCollection,t),s=await (0,l.QT)(n),o=(null===(r=s.data())||void 0===r?void 0:r.features)||[],c=e.map(e=>{let a=o.find(a=>a.id===e.id);return{id:e.id,value:b[e.id]||(null==a?void 0:a.value)||""}});await (0,l.r7)(n,{features:c}),console.log("Features actualizadas en la base de datos")}catch(e){console.error("Error al actualizar features en la base de datos: ",e)}},handleRemoveInclude=async e=>{try{let a=ei.filter(a=>a!==e),t=(0,l.ad)(h.ZP),r=(0,l.JU)(t,w,C.id);await (0,l.r7)(r,{includes:a}),console.log("Include eliminado con \xe9xito"),ed(a)}catch(e){console.error("Error al eliminar el include:",e)}};(0,s.useEffect)(()=>{let e=c.gD.filter(e=>e.parent===Number(B.categories));T(e)},[B.categories]);let handleUpdateProduct=async()=>{if(console.log('Bot\xf3n "Guardar Cambios" presionado'),console.log("Valores del producto y las im\xe1genes en el estado:",B,$),!w||!C){console.error("Selecciona una colecci\xf3n y un producto v\xe1lidos para editar");return}console.log("Valores del producto y las im\xe1genes en el estado:",B,$);let e=(0,l.ad)(h.ZP),a=(0,l.JU)(e,w,C.id),t={name:C.name,longDesc:C.longDesc,shortDesc:C.shortDesc,categories:B.categories,secondCategory:B.secondCategory||null,gen:B.gen,published:es};C.imgs&&C.imgs.length>0&&(t.imgs=C.imgs);try{await (0,l.r7)(a,t),console.log("Documento del producto actualizado con \xe9xito.")}catch(e){console.error("Error al actualizar el documento del producto:",e)}if(!w||!C){console.error("Selecciona una colecci\xf3n, un producto v\xe1lido y al menos una nueva imagen para actualizar");return}try{let e=await (0,l.QT)(a),t=e.data().imgs||[],r=[...t,...U],n=Y.map(e=>e),s=r.filter(e=>!n.includes(e));await (0,l.r7)(a,{imgs:s}),console.log("Im\xe1genes actualizadas con \xe9xito."),M(s),J(!0),R(!0),ee([])}catch(e){console.error("Error al actualizar las im\xe1genes:",e)}},handleNewImageUpload=async e=>{let{files:a}=e.target;if(a.length>0){let e=P.map(e=>{let a=e.split("/");return a[a.length-1]}),t=[];for(let r=0;r<a.length;r++){let n=a[r],s=n.name;e.includes(s)?console.log("La imagen con el nombre ".concat(s," ya existe en la base de datos.")):t.push(n)}let r=await uploadImagesToFirebase(t);r.length>0&&J(!0),L([...U,...r])}},uploadImagesToFirebase=async e=>{let a=(0,o.iH)(eI,"/images"),t=[];for(let r=0;r<e.length;r++){let n=e[r],s=esm_browser_v4()+"_"+n.name,l=(0,o.iH)(a,s);try{await (0,o.KV)(l,n);let e=await (0,o.Jt)(l);t.push(e)}catch(e){console.error("Error al cargar la imagen: ",e)}}return t},handleDeleteImage=e=>{let a=[...P],t=a.splice(e,1)[0];k(a),ee([...Y,t])},handleAddBanner=async()=>{if(console.log('Bot\xf3n "Guardar modificaciones" presionado'),!w||!C||!ea.title||!ea.img||!ea.desc){console.error("Completa todos los campos para agregar un nuevo banner");return}if("string"!=typeof ea.img){console.error("El campo img debe contener la URL de la imagen");return}let e={...C};e.banners.push({...ea}),et({title:"",img:"",desc:""}),O(!0),setTimeout(()=>{O(!1)},3e3),Z(e);let a=(0,l.ad)(h.ZP),t=(0,l.JU)(a,w,C.id);try{await (0,l.r7)(t,{banners:e.banners}),console.log("Nuevo banner agregado con \xe9xito.")}catch(e){console.error("Error al agregar el nuevo banner en Firestore:",e)}},handleSelectBanner=e=>{if(!C.banners||0===C.banners.length)return;e=Math.max(0,Math.min(e,C.banners.length-1));let a=C.banners[e];V({title:(null==a?void 0:a.title)||"",img:(null==a?void 0:a.img)||"",desc:(null==a?void 0:a.desc)||""}),K(e)},handleNewBannerImageUpload=e=>{let a=e.target.files[0],t=URL.createObjectURL(a);et({...ea,img:t})},eI=(0,o.cF)(h.ZP),handleEditedBannerImageUpload=async e=>{let a=e.target.files[0];if(a)try{let e=esm_browser_v4()+"_"+a.name,t=(0,o.iH)(eI,"bannerImages/".concat(e));await (0,o.KV)(t,a);let r=await (0,o.Jt)(t);V({...A,img:r})}catch(e){console.error("Error al cargar la imagen:",e)}},handleEditBanner=async()=>{if(!w||!C||null===q){console.error("Selecciona una colecci\xf3n, un producto v\xe1lido y un banner v\xe1lido para editar");return}let e={...C};null!==q&&(e.banners[q]={...A},V({title:"",img:"",desc:""}),X(!0),setTimeout(()=>{X(!1)},3e3),Z(e));let a=(0,l.ad)(h.ZP),t=(0,l.JU)(a,w,C.id);try{await (0,l.r7)(t,{banners:e.banners}),console.log("Banner editado con \xe9xito.")}catch(e){console.error("Error al editar el banner en Firestore:",e)}},handleRemoveFeaturedFeatures=async e=>{try{var a;if(!C||!w){console.error("ID de producto o colecci\xf3n no v\xe1lidos");return}let t=(0,l.ad)(h.ZP),r=(0,l.JU)(t,w,C.id),n=await (0,l.QT)(r),s=(null===(a=n.data())||void 0===a?void 0:a.featuredFeatures)||[],o=s.filter(a=>a.id!==e);await (0,l.r7)(r,{featuredFeatures:o}),console.log("Caracter\xedstica destacada eliminada con \xe9xito en la base de datos."),ev(o)}catch(e){console.error("Error al eliminar la caracter\xedstica destacada de la base de datos:",e)}},handleDeleteBanner=async e=>{if(!w||!C||void 0===e){console.error("Selecciona una colecci\xf3n, un producto v\xe1lido y un banner v\xe1lido para eliminar");return}let a=[...B.banners],t=a.splice(e,1)[0],r=(0,l.ad)(h.ZP),n=(0,l.JU)(r,w,C.id);try{if(await (0,l.r7)(n,{banners:a}),t.img){let e=(0,o.iH)(eI,"bannerImages/");try{let a=(0,o.iH)(e,t.img);await (0,o.oq)(a)}catch(e){console.error("Error al eliminar la imagen del banner:",e)}}console.log("Banner eliminado con \xe9xito."),D({...B,banners:a})}catch(e){console.error("Error al eliminar el banner en Firestore:",e)}};return t?(0,n.jsx)("div",{className:"mt-4 p-5 bg-primary text-white rounded center",children:(0,n.jsxs)("div",{className:"app-container",children:[(0,n.jsxs)("div",{className:"sidebarEdit",children:[(0,n.jsx)("div",{className:"sidebar-header"}),(0,n.jsxs)("ul",{className:"sidebar-list",children:[(0,n.jsxs)("li",{className:"sidebar-list-item",children:[(0,n.jsx)("h2",{className:"app-content-headerText",children:"Selecciona una colecci\xf3n"}),(0,n.jsx)("div",{class:"containerSelect",children:(0,n.jsx)("div",{class:"select",children:(0,n.jsxs)("select",{value:w,onChange:e=>I(e.target.value),children:[(0,n.jsx)("option",{value:"",children:"Selecciona una colecci\xf3n"}),(0,n.jsx)("option",{value:"headsets",children:"Headsets"}),(0,n.jsx)("option",{value:"audio",children:"Audio"}),(0,n.jsx)("option",{value:"tablets",children:"Tablets"}),(0,n.jsx)("option",{value:"notebooks",children:"Notebooks"}),(0,n.jsx)("option",{value:"cooks",children:"Cooks"})]})})})]}),(0,n.jsx)("li",{className:"sidebar-list-item",children:(0,n.jsx)(u.Z,{children:(0,n.jsx)(u.Z.Group,{className:"mb-3",children:(0,n.jsx)(u.Z.Control,{className:"form-title",style:{color:"black"},type:"text",placeholder:"Buscar por Nombre o SKU",value:eo,onChange:e=>ec(e.target.value)})})})})]}),(0,n.jsxs)("ul",{className:"sidebar-list",children:[(0,n.jsx)("hr",{}),ew.map(e=>(0,n.jsxs)("li",{children:[(0,n.jsx)("hr",{}),(0,n.jsxs)("div",{className:"sidebar-list-itemEdit",children:[e.imgs.length>0&&(0,n.jsx)("img",{src:e.imgs[0],alt:"Imagen de ".concat(e.name),className:"image-previewsEdit"}),(0,n.jsx)("span",{className:"form-titleEdit",children:e.sku}),(0,n.jsx)("button",{className:"app-content-headerButtonEdit",onClick:()=>handleSelectProduct(e),children:"Editar"})]})]},e.id))]}),(0,n.jsxs)("div",{className:"account-info",children:[(0,n.jsx)("div",{className:"account-info-picture"}),(0,n.jsxs)("div",{className:"account-info-name",children:["User",(0,n.jsx)("h4",{children:t?t.email.split("@")[0]:"Not logged in"})]}),(0,n.jsx)("button",{className:"account-info-more",children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-more-horizontal",children:[(0,n.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,n.jsx)("circle",{cx:"19",cy:"12",r:"1"}),(0,n.jsx)("circle",{cx:"5",cy:"12",r:"1"})]})})]})]}),(0,n.jsxs)("div",{className:"app-contentEdit",children:[(0,n.jsxs)("div",{className:"app-content-header",children:[(0,n.jsx)("h1",{className:"app-content-headerText",children:"Editar producto"}),(0,n.jsx)("button",{onClick:()=>{a.push("/admin")},variant:"danger",className:"app-content-headerButton",children:"Volver"})]}),(0,n.jsxs)("div",{className:"app-content-actions",children:[er?(0,n.jsx)("div",{className:"app-contentEdit"}):(0,n.jsx)("div",{className:"app-content-headerText",style:{backgroundColor:"#ff000070",textDecoration:"none"},role:"alert",children:"PRODUCTO NO PUBLICADO. Por favor, actualiza el estado de publicaci\xf3n del producto."}),C&&(0,n.jsxs)("div",{children:[(0,n.jsxs)(u.Z.Group,{controlId:"published",className:"nice-form-group",children:[(0,n.jsx)("p",{style:{textDecoration:"none",fontSize:"40px",fontWeight:"bold"},className:"app-content-headerText",children:C.sku}),(0,n.jsx)("hr",{style:{marginTop:"20px"}}),(0,n.jsx)(u.Z.Check,{style:{textDecoration:"none",marginTop:"20px"},className:"app-content-headerText",type:"switch",id:"published-switch",label:"Publicado: ".concat(es?"S\xed":"No"),checked:es,onChange:()=>{el(e=>!e)}})]}),(0,n.jsx)(u.Z,{children:(0,n.jsxs)(u.Z.Group,{className:"nice-form-group",children:[(0,n.jsx)(u.Z.Label,{children:"Nombre: "}),(0,n.jsx)(u.Z.Control,{type:"text",value:C.name,onChange:e=>Z({...C,name:e.target.value})})]})}),(0,n.jsx)(u.Z,{children:(0,n.jsxs)(u.Z.Group,{className:"nice-form-group",children:[(0,n.jsx)(u.Z.Label,{children:"Descripci\xf3n Larga:"}),(0,n.jsx)("textarea",{value:C.longDesc,onChange:e=>Z({...C,longDesc:e.target.value})})]})}),(0,n.jsx)(u.Z,{children:(0,n.jsxs)(u.Z.Group,{className:"nice-form-group",children:[(0,n.jsx)(u.Z.Label,{children:"Descripci\xf3n Corta:"}),(0,n.jsx)("textarea",{value:C.shortDesc,onChange:e=>Z({...C,shortDesc:e.target.value})})]})}),(0,n.jsxs)(u.Z.Group,{controlId:"gen",className:"nice-form-group",children:[(0,n.jsx)(u.Z.Label,{className:"form-title",children:"Generaci\xf3n del producto"}),(0,n.jsx)(u.Z.Control,{type:"text",name:"gen",value:B.gen,onChange:e=>{let{name:a,value:t}=e.target;D({...B,[a]:t});let r=(0,l.ad)(h.ZP),n=(0,l.JU)(r,w,C.id);try{(0,l.r7)(n,{categories:B.categories,secondCategory:B.secondCategory}),console.log("Categor\xeda actualizada en la base de datos: ".concat(B.categories,", ").concat(B.secondCategory))}catch(e){console.error("Error al actualizar la categor\xeda en la base de datos:",e)}},required:!0})]}),P.length>0?(0,n.jsxs)("div",{className:"nice-form-group",children:[(0,n.jsx)("hr",{style:{marginTop:"20px"}}),(0,n.jsx)("h3",{className:"app-content-headerText",style:{marginTop:"20px",textDecoration:"1px underline"},children:"Im\xe1genes existentes"}),(0,n.jsx)("ul",{className:"image-container-editImage",children:P.map((e,a)=>(0,n.jsxs)("li",{children:[(0,n.jsx)("img",{className:"image-previewsEdits",src:e,alt:"Imagen ".concat(a)}),(0,n.jsx)("button",{className:"app-content-headerButton",onClick:()=>handleDeleteImage(a),children:"Eliminar"})]},a))})]}):(0,n.jsx)("p",{className:"form-titleEdit",children:"No hay im\xe1genes cargadas"}),U.length>0&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"app-content-headerText",children:"Nuevas im\xe1genes cargadas"}),(0,n.jsx)("ul",{className:"image-container-edit",children:U.map((e,a)=>(0,n.jsxs)("li",{children:[(0,n.jsx)("img",{className:"image-previews",src:e,alt:"Nueva Imagen ".concat(a)}),(0,n.jsx)("button",{className:"app-content-headerButton",onClick:()=>handleDeleteImage(a),children:"Eliminar"})]},a))})]}),(0,n.jsxs)(u.Z.Group,{controlId:"newImages",className:"nice-form-group",children:[(0,n.jsx)(u.Z.Label,{children:"Cargar nuevas im\xe1genes"}),(0,n.jsx)(u.Z.Control,{className:"form-title",type:"file",name:"newImages",onChange:handleNewImageUpload,multiple:!0})]}),(0,n.jsxs)(u.Z,{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("hr",{style:{marginTop:"20px"}}),(0,n.jsx)("h2",{className:"app-content-headerText",style:{marginTop:"20px",textDecoration:"1px underline"},children:"Banners existentes"}),(0,n.jsxs)(u.Z.Group,{controlId:"selectBanner",className:"nice-form-group",children:[(0,n.jsx)(u.Z.Label,{children:"Selecciona un Banner para Editar"}),(0,n.jsxs)(u.Z.Control,{as:"select",name:"selectBanner",value:null!==q?q.toString():"",onChange:e=>handleSelectBanner(parseInt(e.target.value)),children:[(0,n.jsx)("option",{value:"",children:"Selecciona un Banner"}),C.banners&&C.banners.map((e,a)=>(0,n.jsx)("option",{value:a.toString(),children:e.title},a))]}),(0,n.jsxs)(u.Z.Group,{controlId:"bannerTitle",className:"nice-form-group",children:[(0,n.jsx)(u.Z.Label,{children:"T\xedtulo del Banner"}),(0,n.jsx)(u.Z.Control,{type:"text",name:"bannerTitle",value:A.title,onChange:e=>V({...A,title:e.target.value})})]}),(0,n.jsxs)(u.Z.Group,{controlId:"bannerImage",className:"nice-form-group",children:[(0,n.jsx)(u.Z.Label,{children:"Imagen del Banner"}),(0,n.jsx)(u.Z.Control,{className:"form-title",type:"file",name:"bannerImage",onChange:handleEditedBannerImageUpload,accept:"image/*"})]}),A.img&&(0,n.jsx)("div",{className:"banner-image-preview",children:(0,n.jsx)("img",{className:"image-previews-banner",src:A.img,alt:"image-banner"})}),(0,n.jsxs)(u.Z.Group,{controlId:"bannerDesc",className:"nice-form-group",children:[(0,n.jsx)(u.Z.Label,{children:"Descripci\xf3n del Banner"}),(0,n.jsx)(u.Z.Control,{as:"textarea",name:"bannerDesc",value:A.desc,onChange:e=>V({...A,desc:e.target.value})})]}),(0,n.jsx)(d.Z,{variant:"danger",className:"app-content-headerButton",onClick:handleEditBanner,children:"Editar Banner"})]}),C.banners&&C.banners.length>0?(0,n.jsx)("ul",{className:"image-container-edit",children:C.banners.map((e,a)=>(0,n.jsxs)("li",{children:[(0,n.jsx)("p",{className:"app-content-headerText",style:{textDecoration:"1px underline"},children:"Titulo del Banner "}),(0,n.jsx)("p",{className:"app-content-bannerDesc",children:e.title}),(0,n.jsx)("img",{className:"image-previews-banner",src:e.img,alt:e.title}),(0,n.jsx)("p",{className:"app-content-bannerDescT",children:"Descripci\xf3n del Banner:"}),(0,n.jsx)("p",{className:"app-content-bannerDesc",children:e.desc}),(0,n.jsx)(d.Z,{variant:"danger",className:"app-content-headerButton",onClick:()=>handleDeleteBanner(a),children:"Eliminar Banner"})]},a))}):(0,n.jsx)("p",{className:"app-content-headerText",children:"No hay banners existentes."})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{type:"button",className:"app-content-headerButton",onClick:()=>{console.log('Bot\xf3n "Guardar modificaciones" presionado'),console.log("Valores en newBanner:",ea),H(!Q)},children:Q?"Ocultar Nuevo Banner":"A\xf1adir Nuevo Banner"}),Q&&(0,n.jsxs)("div",{children:[(0,n.jsxs)(u.Z.Group,{controlId:"newBannerTitle",className:"nice-form-group",children:[(0,n.jsx)(u.Z.Label,{children:"T\xedtulo del Nuevo Banner"}),(0,n.jsx)(u.Z.Control,{type:"text",name:"newBannerTitle",value:ea.title,onChange:e=>et({...ea,title:e.target.value})})]}),(0,n.jsxs)(u.Z.Group,{controlId:"newBannerImage",className:"nice-form-group",children:[(0,n.jsx)(u.Z.Label,{children:"Imagen del Nuevo Banner"}),(0,n.jsx)(u.Z.Control,{className:"form-title",type:"file",name:"newBannerImage",onChange:e=>handleNewBannerImageUpload(e),accept:"image/*"})]}),ea.img&&(0,n.jsx)("div",{className:"banner-image-preview",children:(0,n.jsx)("img",{className:"image-previews-banner",src:ea.img,alt:"image-banner"})}),(0,n.jsxs)(u.Z.Group,{controlId:"newBannerDesc",className:"nice-form-group",children:[(0,n.jsx)(u.Z.Label,{children:"Descripci\xf3n del Nuevo Banner"}),(0,n.jsx)(u.Z.Control,{as:"textarea",name:"newBannerDesc",value:ea.desc,onChange:e=>et({...ea,desc:e.target.value})})]})]})]}),(0,n.jsx)(d.Z,{variant:"primary",style:{marginTop:"10px"},className:"app-content-headerButton",onClick:handleAddBanner,children:"Guardar modificacines"})]}),(0,n.jsx)("hr",{style:{marginTop:"20px",marginBottom:"20px"}}),(0,n.jsx)("h2",{className:"app-content-headerText",style:{marginTop:"20px",textDecoration:"1px underline"},children:"Caracteristicas Destacadas"}),(0,n.jsxs)(u.Z.Group,{controlId:"featuredFeature",className:"nice-form-group",children:[(0,n.jsx)(u.Z.Label,{children:"Seleccionar Caracter\xedstica Destacada:"}),(0,n.jsxs)(u.Z.Select,{value:eC,onChange:e=>{eZ(e.target.value)},children:[(0,n.jsx)("option",{value:"",disabled:!0,children:"Seleccionar..."}),ey.map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,n.jsx)("button",{className:"app-content-headerButton",variant:"primary",onClick:handleAddFeatureToProduct,children:"Agregar Caracter\xedstica Destacada"}),(0,n.jsx)(u.Z.Group,{controlId:"featuredFeature",className:"nice-form-group",children:eb.map(e=>(0,n.jsx)("div",{className:"featuredFeaturesSelected",children:(0,n.jsx)("div",{style:{display:"flex"},children:(0,n.jsxs)("li",{children:[(0,n.jsx)("button",{variant:"danger",className:"app-content-headerButton",type:"button",onClick:()=>handleRemoveFeaturedFeatures(e.id),children:(0,n.jsx)(m.Z,{fontSize:""})}),e.imageUrl&&(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:"Imagen:"}),(0,n.jsx)("img",{src:e.imageUrl,alt:"Imagen de ".concat(e.name),style:{width:"77px",height:"77px",borderRadius:"10px",backgroundColor:"aqua"}})]}),(0,n.jsx)("p",{children:"ID: ".concat(e.id)}),(0,n.jsx)("p",{children:"Nombre: ".concat(e.name)}),(0,n.jsx)("p",{children:"Descripci\xf3n: ".concat(e.desc)})]})})},e.id))}),(0,n.jsx)("hr",{style:{marginTop:"20px"}}),(0,n.jsx)("h2",{className:"app-content-headerText",style:{marginTop:"20px",textDecoration:"1px underline"},children:"Caracteristicas"}),(0,n.jsxs)(u.Z.Group,{controlId:"productFeatures",children:[(0,n.jsxs)(u.Z.Group,{className:"checkForm",controlId:"features",children:[(0,n.jsx)(u.Z.Label,{children:"Selecciona las caracter\xedsticas:"}),r.map(e=>{var a;return(0,n.jsx)(u.Z.Check,{type:"checkbox",label:"".concat(e.id," - ").concat(e.name),name:e.id,value:(null===(a=f.find(a=>a.id===e.id))||void 0===a?void 0:a.value)||"",onChange:handleFeatureChange},e.id)})]}),(0,n.jsx)("div",{className:"featuresSelectedFather",children:f.map(e=>(0,n.jsxs)("div",{className:"featuresSelected",style:{color:"black"},children:[(0,n.jsx)("button",{variant:"danger",className:"app-content-headerButton",type:"button",onClick:()=>handleRemoveFeature(e.id),children:(0,n.jsx)(m.Z,{fontSize:""})}),(0,n.jsxs)(u.Z.Group,{controlId:"name",className:"nice-form-group",style:{borderBottom:"white solid 1px",display:"flex",alignItems:"center"},children:[(0,n.jsx)(u.Z.Label,{className:"form-title-features",children:"".concat(e.id," - ")}),(0,n.jsx)(u.Z.Control,{type:"text",name:"name",value:b[e.id]||e.value,onChange:a=>{let t=a.target.value;v(a=>({...a,[e.id]:t}))},required:!0})]})]},e.id))}),(0,n.jsx)("button",{style:{marginTop:"10px"},className:"app-content-headerButton",onClick:()=>{updateFeaturesInDatabase(f)},children:"Guardar Caracter\xedsticas"})]}),(0,n.jsx)("hr",{style:{marginTop:"20px"}}),(0,n.jsxs)(u.Z.Group,{controlId:"includes",className:"nice-form-group",children:[(0,n.jsx)("h2",{className:"app-content-headerText",style:{marginTop:"20px",textDecoration:"1px underline"},children:"Incluye:"}),(0,n.jsxs)(u.Z.Group,{controlId:"selectInclude",className:"nice-form-group",children:[(0,n.jsx)(u.Z.Label,{children:"Seleccionar Include:"}),(0,n.jsxs)(u.Z.Select,{value:ex?ex.id:"",onChange:e=>{let a=e.target.value,t=em.find(e=>e.id===a);eg(t)},children:[(0,n.jsx)("option",{value:"",children:"Selecciona un Include"}),em.map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,n.jsx)("button",{className:"app-content-headerButton",onClick:async()=>{if(ex){let e=[...ei,ex.id];ed(e);let a=(0,l.ad)(h.ZP),t=(0,l.JU)(a,w,C.id);try{await (0,l.r7)(t,{includes:e}),console.log("Include agregado con \xe9xito a la base de datos")}catch(e){console.error("Error al agregar el include a la base de datos:",e)}}},children:"Agregar Include"}),(0,n.jsx)("ul",{children:ei.map((e,a)=>{let t=em.find(a=>a.id===e);return t?(0,n.jsx)("div",{className:"featuredFeaturesSelected",children:(0,n.jsx)("div",{style:{display:"flex"},children:(0,n.jsxs)("li",{children:[(0,n.jsx)("button",{variant:"danger",className:"app-content-headerButton",type:"button",onClick:()=>handleRemoveInclude(t.id),children:(0,n.jsx)(m.Z,{fontSize:""})}),t.img&&(0,n.jsx)("div",{children:(0,n.jsx)("img",{src:t.img,alt:"Imagen para ".concat(t.name),style:{width:"77px",height:"77px",borderRadius:"10px"}})}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:["ID: ",t.id]}),(0,n.jsxs)("div",{children:["Nombre: ",t.name]})]})]},a)})},a):(0,n.jsx)("li",{children:(0,n.jsx)("p",{children:'"Incluye" no encontrado'})},a)})})]})]}),(0,n.jsx)("button",{onClick:handleUpdateProduct,variant:"danger",className:"app-content-headerButton",style:{marginTop:"20px"},children:"Guardar Cambios"})]})]})]})}):(0,n.jsx)(i.default,{})};function UpdateProduct(){return(0,n.jsx)(components_EditProduct,{})}},5005:function(e,a,t){"use strict";var r=t(4184),n=t.n(r),s=t(7294),l=t(861),o=t(6792),c=t(5893);let i=s.forwardRef(({as:e,bsPrefix:a,variant:t="primary",size:r,active:s=!1,disabled:i=!1,className:d,...u},h)=>{let m=(0,o.vE)(a,"btn"),[p,{tagName:x}]=(0,l.FT)({tagName:e,disabled:i,...u});return(0,c.jsx)(x,{...p,...u,ref:h,disabled:i,className:n()(d,m,s&&"active",t&&`${m}-${t}`,r&&`${m}-${r}`,u.href&&i&&"disabled")})});i.displayName="Button",a.Z=i}},function(e){e.O(0,[739,503,774,888,179],function(){return e(e.s=1148)}),_N_E=e.O()}]);