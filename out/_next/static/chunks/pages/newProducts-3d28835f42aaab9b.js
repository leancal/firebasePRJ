(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[642],{6769:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/newProducts",function(){return n(9292)}])},3969:function(e,a){"use strict";a.Z=[{name:"waterproof",displayName:"waterproof",logo:"/lineas/ultraportable/logo.png",indexImage:"/lineas/ultraportable/bg.png",banner:"/lineas/ultraportable/banner-pc.webp",bannerMobile:"/lineas/ultraportable/banner-mob.webp",background:"/lineas/ultraportable/big-bg.jpg",link:"/lineas/waterproof"},{name:"infinit",displayName:"Infinit",desc:"Posibilidades Ilimitadas",logo:"/lineas/infinit/logo.png",indexImage:"/lineas/infinit/indexImage.png",banner:"/lineas/infinit/banner-pc.jpg",bannerMobile:"/lineas/infinit/banner-mob.jpg",background:"/lineas/infinit/big-bg.jpg",link:"/lineas/infinit"},{name:"flama",displayName:"Flama",desc:"Acercate al fuego",logo:"/lineas/flama/logo.png",indexImage:"/lineas/flama/bg.png",banner:"/lineas/flama/banner-pc.webp",bannerMobile:"/lineas/flama/banner-mob.webp",background:"/lineas/flama/big-bg.webp",link:"/lineas/flama"},{name:"ring",displayName:"Ring",desc:"Potencia insuperable",logo:"/lineas/ring/logo.png",indexImage:"/lineas/ring/bg.png",banner:"/lineas/ring/banner-pc.webp",bannerMobile:"/lineas/ring/banner-mob.webp",background:"/lineas/ring/big-bg.webp",link:"/lineas/ring"},{name:"party",displayName:"Party",desc:"Que la fiesta nunca pare",logo:"/lineas/party/logo.png",indexImage:"/lineas/party/bg.jpg",banner:"/lineas/party/banner-pc.webp",bannerMobile:"/lineas/party/banner-mob.webp",background:"/lineas/party/big-bg.webp",link:"/lineas/party"}]},9292:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return NewProduct}});var r=n(5893),s=n(7294),t=n(1110),l=n(5005),i=n(1676),o=n(8918),c=n(947),d=n(5079),u=n(6686),h=n(2937),m=n(8503),g=n(1163),AddProduct_ProductDataForm=e=>{let{product:a,handleChange:n,handleFileUpload:s,handleImageUpload:t,selectedImagePreviews:o,selected360ImagePreviews:c,handleAddColor:d,colorInput:u,handleRemoveColor:h,showFileUploadButto:m,handleColorInputChange:g}=e;return(0,r.jsxs)(i.Z,{children:[(0,r.jsxs)(i.Z.Group,{controlId:"name",className:"nice-form-group",children:[(0,r.jsx)(i.Z.Label,{className:"form-title",children:"Nombre del producto"}),(0,r.jsx)(i.Z.Control,{type:"text",name:"name",value:a.name,onChange:n,required:!0})]}),(0,r.jsxs)(i.Z.Group,{controlId:"sku",className:"nice-form-group",children:[(0,r.jsx)(i.Z.Label,{className:"form-title",children:"Sku del producto"}),(0,r.jsx)(i.Z.Control,{type:"text",name:"sku",value:a.sku,onChange:n,required:!0})]}),(0,r.jsxs)(i.Z.Group,{controlId:"link",className:"nice-form-group",children:[(0,r.jsx)(i.Z.Label,{className:"form-title",children:"Link del producto"}),(0,r.jsx)(i.Z.Control,{type:"text",name:"link",value:a.link,onChange:n,required:!0})]}),(0,r.jsx)(i.Z.Group,{controlId:"img360",className:"nice-form-group",children:(0,r.jsx)(i.Z.Check,{className:"form-title",type:"checkbox",label:"Sin 360\xb0",name:"img360",checked:a.img360,onChange:n})}),!a.img360&&(0,r.jsxs)(i.Z.Group,{controlId:"fileUpload",className:"nice-form-group",children:[(0,r.jsx)(i.Z.Label,{children:"Cargar Imagenes 360\xb0"}),(0,r.jsx)(i.Z.Control,{className:" form-title",type:"file",name:"img360",accept:"image/*",onChange:s,multiple:!0})]}),(0,r.jsx)("div",{className:"image-360-preview",children:c.map((e,a)=>(0,r.jsx)("img",{src:e,alt:"Imagen 360 #".concat(a),className:"image-previews"},a))}),(0,r.jsxs)(i.Z.Group,{controlId:"gen",className:"nice-form-group",children:[(0,r.jsx)(i.Z.Label,{className:"form-title",children:"Generaci\xf3n del producto"}),(0,r.jsx)(i.Z.Control,{type:"text",name:"gen",value:a.gen,onChange:n,required:!0})]}),(0,r.jsxs)(i.Z.Group,{controlId:"shortDesc",className:"nice-form-group",children:[(0,r.jsx)(i.Z.Label,{className:"form-title",children:"Descripci\xf3n corta"}),(0,r.jsx)(i.Z.Control,{type:"text",name:"shortDesc",value:a.shortDesc,onChange:n,required:!0})]}),(0,r.jsxs)(i.Z.Group,{controlId:"longDesc",className:"nice-form-group",children:[(0,r.jsx)(i.Z.Label,{className:"form-title",children:"Descripci\xf3n larga"}),(0,r.jsx)(i.Z.Control,{type:"text",name:"longDesc",value:a.longDesc,onChange:n,required:!0})]}),(0,r.jsxs)(i.Z.Group,{controlId:"buyLink",className:"nice-form-group",children:[(0,r.jsx)(i.Z.Label,{className:"form-title",children:"Link de compra"}),(0,r.jsx)(i.Z.Control,{type:"text",name:"buyLink",value:a.buyLink,onChange:n,required:!0})]}),(0,r.jsx)(i.Z.Group,{controlId:"noManual",className:"nice-form-group",children:(0,r.jsx)(i.Z.Check,{className:"form-title",type:"checkbox",label:"No Manual",name:"noManual",checked:a.noManual,onChange:n})}),(0,r.jsxs)(i.Z.Group,{controlId:"downloads",className:"nice-form-group",children:[(0,r.jsx)(i.Z.Label,{className:"form-title",children:"Descargas(Link de Drive)"}),(0,r.jsx)(i.Z.Control,{type:"text",name:"downloads",value:a.downloads,onChange:n,required:!0})]}),(0,r.jsxs)(i.Z.Group,{controlId:"colors",className:"nice-form-group",children:[(0,r.jsx)(i.Z.Label,{className:"form-title ",children:"Colors"}),(0,r.jsx)(i.Z.Control,{className:"add-color",type:"text",name:"colorInput",placeholder:"Enter color",value:u,onChange:g}),(0,r.jsx)(l.Z,{variant:"danger",className:"app-content-headerButton ",onClick:d,children:"Add Color"})]}),a.colors.map((e,a)=>(0,r.jsxs)("div",{className:"colorItem",children:[(0,r.jsx)("span",{className:"form-title",children:e}),(0,r.jsx)(l.Z,{variant:"danger",className:"app-content-headerButton",onClick:()=>h(a),children:"Remove"})]},a)),(0,r.jsx)(i.Z.Group,{controlId:"published",className:"nice-form-group",children:(0,r.jsx)(i.Z.Check,{style:{fontSize:"20px",color:"white"},type:"checkbox",label:"Publicar producto?",name:"published",checked:a.published,onChange:n})})]})},AddProduct_BannerForm=e=>{let{bannerFields:a,handleBannerImageUpload:n,handleAddBanner:s,showBannerAddedAlert:t,setBannerFields:o}=e;return(0,r.jsxs)(i.Z,{children:[(0,r.jsxs)(i.Z.Group,{controlId:"bannerTitle",className:"nice-form-group",children:[(0,r.jsx)(i.Z.Label,{children:"T\xedtulo del Banner"}),(0,r.jsx)(i.Z.Control,{type:"text",name:"bannerTitle",value:a.title,onChange:e=>o({...a,title:e.target.value})})]}),(0,r.jsxs)(i.Z.Group,{controlId:"bannerImage",className:"nice-form-group",children:[(0,r.jsx)(i.Z.Label,{children:"Imagen del Banner"}),(0,r.jsx)(i.Z.Control,{className:"form-title",type:"file",name:"bannerImage",onChange:n,accept:"image/*"})]}),a.img&&(0,r.jsx)("div",{className:"banner-image-preview",children:(0,r.jsx)("img",{className:"image-previews-banner",src:a.img,alt:""})}),(0,r.jsxs)(i.Z.Group,{controlId:"bannerDesc",className:"nice-form-group",children:[(0,r.jsx)(i.Z.Label,{children:"Descripci\xf3n del Banner"}),(0,r.jsx)(i.Z.Control,{as:"textarea",name:"bannerDesc",value:a.desc,onChange:e=>o({...a,desc:e.target.value})})]}),(0,r.jsx)(l.Z,{variant:"danger",className:"app-content-headerButton",onClick:s,children:"Agregar Banner"}),t&&(0,r.jsx)("div",{className:"alert alert-success form-title",children:"Banner agregado con \xe9xito."})]})},x=n(1330),p=n(594),AddProduct_IncludesForm=e=>{let{newIncludeId:a,setNewIncludeId:n,newIncludeName:s,setNewIncludeName:t,allIncludes:o,handleImageChange:c,handleAddNewInclude:d,handleIncludesChange:u,selectedIncludes:h,handleRemoveIncludes:m}=e;return(0,r.jsxs)(i.Z.Group,{controlId:"includes",children:[(0,r.jsxs)(i.Z.Group,{className:"nice-form-group",controlId:"newIncludeId",children:[(0,r.jsx)(i.Z.Label,{children:"ID del nuevo -Incluye-"}),(0,r.jsx)(i.Z.Control,{type:"text",name:"newIncludeId",value:a,onChange:e=>n(e.target.value.replace(/[^0-9]/g,""))}),(0,r.jsx)(i.Z.Label,{children:"Nombre del nuevo -Incluye-"}),(0,r.jsx)(i.Z.Control,{type:"text",name:"newIncludeName",value:s,onChange:e=>t(e.target.value)}),(0,r.jsxs)(i.Z.Group,{className:"nice-form-group",controlId:"newIncludeImg",children:[(0,r.jsx)(i.Z.Label,{children:"Imagen del nuevo -Incluye-"}),(0,r.jsx)(i.Z.Control,{type:"file",accept:"image/*",onChange:c,style:{color:"white"}})]}),(0,r.jsx)(i.Z.Label,{children:(0,r.jsx)(l.Z,{style:{marginTop:"10px"},variant:"primary",className:"app-content-headerButton",onClick:d,children:"Agregar nuevo -Incluye-"})})]}),(0,r.jsxs)(i.Z.Group,{className:"checkFormIncludes",controlId:"includes",children:[(0,r.jsx)(i.Z.Label,{}),o.sort((e,a)=>Number(e.id)-Number(a.id)).map(e=>(0,r.jsx)(i.Z.Check,{style:{display:"flex",alignItems:"center"},type:"checkbox",label:(0,r.jsxs)("div",{children:[(0,r.jsx)(x.Z,{className:"imgIncludes",src:e.img,alt:"Image of ".concat(e.name),width:55,height:55}),"".concat(e.id," - ").concat(e.name)]}),name:"includes",value:e.id,onChange:u,checked:h.includes(e.id)},"".concat(e.id," - ").concat(e.name," - ").concat(e.img)))]}),h.map(e=>{let a=o.find(a=>a.id===e);return(0,r.jsxs)("div",{className:"featuresSelected",children:[(0,r.jsx)("button",{type:"button",variant:"danger",className:"app-content-headerButton",onClick:()=>m(e),children:(0,r.jsx)(p.Z,{fontSize:""})}),(0,r.jsx)("li",{children:a?a.name:e})]},e)})]})},AddProduct_FeaturesForm=e=>{let{newFeatureId:a,setNewFeatureId:n,newFeatureName:s,setNewFeatureName:t,dbFeatures:o,handleAddNewFeature:c,showAlert:d,setShowAlert:u,handleFeaturesChange:m,selectedFeatures:g,handleRemoveFeature:x,featureValueInputs:j,handleFeatureValueChange:f}=e;return(0,r.jsxs)(i.Z.Group,{controlId:"features",children:[(0,r.jsxs)(i.Z.Group,{className:"nice-form-group",controlId:"newFeaturedFeatureId",children:[(0,r.jsx)(i.Z.Label,{children:"ID de la nueva caracter\xedstica"}),(0,r.jsx)(i.Z.Control,{type:"text",name:"newFeatureId",value:a,onChange:e=>n(e.target.value.replace(/[^0-9]/g,""))}),(0,r.jsx)(i.Z.Label,{children:"Nombre de la nueva caracter\xedstica"}),(0,r.jsx)(i.Z.Control,{type:"text",name:"newFeatureName",value:s,onChange:e=>t(e.target.value)}),(0,r.jsx)(i.Z.Label,{children:(0,r.jsx)(l.Z,{style:{marginTop:"10px"},variant:"primary",className:"app-content-headerButton",onClick:c,children:"Agregar nueva caracter\xedstica"})}),d&&(0,r.jsxs)(h.Z,{show:d,variant:"info",onClose:()=>u(!1),dismissible:!0,children:[(0,r.jsx)(h.Z.Heading,{style:{color:"white"},children:"Atenci\xf3n!!"}),(0,r.jsx)("p",{style:{color:"white"},children:"Este ID ya existe, por favor ingrese un ID diferente."}),(0,r.jsx)("hr",{}),(0,r.jsx)("div",{className:"d-flex justify-content-end",children:(0,r.jsx)(l.Z,{style:{marginTop:"10px"},onClick:()=>u(!1),variant:"primary",className:"app-content-headerButton",children:"Cerrar"})}),!d&&(0,r.jsx)(l.Z,{onClick:()=>u(!0),children:"Show Alert"})]})]}),(0,r.jsxs)(i.Z.Group,{className:"checkForm",controlId:"features",children:[(0,r.jsx)(i.Z.Label,{}),o.sort((e,a)=>Number(e.id)-Number(a.id)).map(e=>(0,r.jsx)("div",{className:"featureItem",children:(0,r.jsx)(i.Z.Check,{type:"checkbox",label:"".concat(e.id," - ").concat(e.name),name:"features",value:e.id,onChange:m})},"".concat(e.id," - ").concat(e.name)))]}),g.map(e=>{let a=o.find(a=>a.id===e);return(0,r.jsxs)("div",{className:"nice-form-group",children:[(0,r.jsx)("button",{type:"button",variant:"danger",className:"app-content-headerButton",onClick:()=>x(e),children:(0,r.jsx)(p.Z,{fontSize:""})}),(0,r.jsx)("li",{children:a?a.name:e}),(0,r.jsxs)("div",{className:"nice-form-group",children:[(0,r.jsxs)(i.Z.Label,{children:["Valor para ",a?a.name:e,":"]}),(0,r.jsx)(i.Z.Control,{type:"text",name:"feature_".concat(e),value:j[e]||"",onChange:a=>f(a,e)})]})]},e)})]})},FeaturedFeatureForm=e=>{let{newFeaturedFeatureId:a,newFeaturedFeatureName:n,newFeaturedFeatureDesc:s,newFeaturedFeatureImage:t,dbFeaturedFeatures:o,handleAddNewFeaturedFeature:c,handleFeaturedFeatureChange:d,selectedFeaturedFeatures:u,handleRemoveFeaturedFeature:h,setNewFeaturedFeatureId:m,setNewFeaturedFeatureName:g,setNewFeaturedFeatureDesc:x,setNewFeaturedFeatureImage:j}=e;return(0,r.jsxs)(i.Z.Group,{controlId:"featuredFeature",children:[(0,r.jsxs)(i.Z.Group,{className:"nice-form-group",controlId:"newFeaturedFeatureId",children:[(0,r.jsx)(i.Z.Label,{children:"ID de la nueva caracter\xedstica (solo n\xfameros)"}),(0,r.jsx)(i.Z.Control,{type:"text",name:"newFeaturedFeatureId",value:a,onChange:e=>m(e.target.value.replace(/\D/,""))}),(0,r.jsx)(i.Z.Label,{children:"Nombre de la nueva caracter\xedstica"}),(0,r.jsx)(i.Z.Control,{type:"text",name:"newFeaturedFeatureName",value:n,onChange:e=>g(e.target.value)}),(0,r.jsx)(i.Z.Label,{children:"Descripci\xf3n de la nueva caracter\xedstica"}),(0,r.jsx)(i.Z.Control,{as:"textarea",rows:3,name:"newFeaturedFeatureDesc",value:s,onChange:e=>x(e.target.value)}),(0,r.jsx)(i.Z.Label,{children:"Imagen de la nueva caracter\xedstica destacada (SVG)"}),(0,r.jsx)(i.Z.Control,{style:{color:"white"},type:"file",accept:".svg",name:"newFeaturedFeatureImage",onChange:e=>j(e.target.files[0])}),(0,r.jsx)(i.Z.Label,{children:(0,r.jsx)(l.Z,{variant:"primary",className:"app-content-headerButton",onClick:c,style:{marginTop:"20px"},children:"Agregar nueva caracter\xedstica destacada"})})]}),(0,r.jsxs)(i.Z.Group,{className:"checkForm",controlId:"featuredFeatures",children:[(0,r.jsx)(i.Z.Label,{}),o.map(e=>(0,r.jsx)(i.Z.Check,{type:"checkbox",label:"".concat(e.id," - ").concat(e.name),name:"featuredFeatures",value:e.id,onChange:d,checked:u.includes(e.id)},"".concat(e.id," - ").concat(e.name)))]}),u.map(e=>{let a=o.find(a=>a.id===e);return(0,r.jsxs)("div",{className:"featuresSelected",children:[(0,r.jsx)("button",{variant:"danger",className:"app-content-headerButton",type:"button",onClick:()=>h(e),children:(0,r.jsx)(p.Z,{fontSize:""})}),(0,r.jsxs)("div",{style:{display:"flex"},children:[a.imageUrl&&(0,r.jsx)("div",{children:(0,r.jsx)("img",{src:a.imageUrl,alt:"Image for ".concat(e),style:{width:"77px",height:"77px",background:"white",borderRadius:"10px"}})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:["ID: ",e]}),(0,r.jsxs)("div",{children:["Nombre: ",a.name]}),(0,r.jsxs)("div",{children:["Descripci\xf3n: ",a.desc]})]})]})]},e)})]})},j=n(3969);let f=(0,o.ad)(c.ZP),b=(0,o.hJ)(f,"featuredFeatures");var components_AddProduct=()=>{let e=(0,g.useRouter)(),{currentUser:a}=(0,t.aC)(),[n,c]=(0,s.useState)([]),[x,p]=(0,s.useState)([]),[w,v]=(0,s.useState)([]),[N,C]=(0,s.useState)([]),[I,y]=(0,s.useState)({}),[Z,k]=(0,s.useState)({}),[F,L]=(0,s.useState)(""),[S,D]=(0,s.useState)([]),[A,B]=(0,s.useState)(!1),[G,P]=(0,s.useState)(!1),[M,U]=(0,s.useState)(!1),[_,E]=(0,s.useState)(!1),[V,J]=(0,s.useState)(!1),[q,T]=(0,s.useState)(!1),[z,H]=(0,s.useState)(!1),[R,W]=(0,s.useState)(null),[K,O]=(0,s.useState)(!1),[Q,X]=(0,s.useState)(!1),[Y,$]=(0,s.useState)(!0),[ee,ea]=(0,s.useState)(!1),[en,er]=(0,s.useState)([]),[es,et]=(0,s.useState)(""),[el,ei]=(0,s.useState)(""),[eo,ec]=(0,s.useState)(""),[ed,eu]=(0,s.useState)([]);(0,s.useEffect)(()=>{let fetchFeaturedFeatures=async()=>{try{let e=(0,o.JU)(f,"featuredFeatures","featuredFeaturesDocument"),a=await (0,o.QT)(e);if(a.exists()){let e=a.data();eu(e.features||[])}}catch(e){console.error("Error fetching featuredFeatures:",e)}let e=await (0,o.PL)(b),a=e.docs.map(e=>({id:e.id,...e.data()}));eu(a)};fetchFeaturedFeatures()},[]);let[eh,em]=(0,s.useState)(""),[eg,ex]=(0,s.useState)(""),[ep,ej]=(0,s.useState)([]);(0,s.useEffect)(()=>{let fetchFeatures=async()=>{try{let e=(0,o.hJ)(f,"features"),a=await (0,o.PL)(e),n=a.docs.map(e=>({id:e.id,...e.data()}));ej(n)}catch(e){console.error("Error fetching features:",e)}};fetchFeatures()},[]);let[ef,eb]=(0,s.useState)([]),[ew,ev]=(0,s.useState)([]),[eN,eC]=(0,s.useState)(""),[eI,ey]=(0,s.useState)(""),[eZ,ek]=(0,s.useState)(null);(0,s.useEffect)(()=>{let fetchIncludes=async()=>{try{let e=(0,o.hJ)(f,"includes"),a=await (0,o.PL)(e),n=a.docs.map(e=>({id:e.id,...e.data()}));ev(n)}catch(e){console.error("Error fetching includes:",e)}};fetchIncludes()},[]);let[eF,eL]=(0,s.useState)({name:"",sku:"",link:"",categories:"",imgs:[],img360:"",selected360Images:[],gen:"",banners:[],shortDesc:"",longDesc:"",buyLink:"",featuredFeatures:[],customFeaturedFeatures:[],features:[],includes:[],noManual:"",downloads:"",colors:[],selectedCollection:"",subCollection:"",published:!0,linea:""}),[eS,eD]=(0,s.useState)({title:"",img:"",desc:""}),[eA,eB]=(0,s.useState)(!1);if(!a)return(0,r.jsx)(m.default,{});let handleChange=e=>{let{name:a,value:n,type:r,checked:s}=e.target;"checkbox"===r?(eL(e=>({...e,[a]:s})),ea(!s)):"categories"===a?eL(e=>({...e,categories:n,linea:""})):"linea"===a?eL(e=>({...e,linea:n})):eL(e=>({...e,[a]:n}))},handleSubmit=async e=>{e.preventDefault(),(0,o.ad)(),Object.keys(I).map(e=>({id:e,value:I[e]}));let a=N.map(e=>({id:e,value:Z[e]||""}));if(await isDocumentNameUnique(eF.sku)){P(!1);let e=(0,o.ad)(),n=eF.sku;try{let r=(0,o.JU)(e,eF.selectedCollection,n);if(eF.img360){let e=(0,u.iH)(eG,"/images360"),a=(0,u.iH)(e,"360_".concat(eF.sku,".jpg"));await (0,u.KV)(a,eF.img360);let n=await (0,u.Jt)(a);eL(e=>({...e,img360:n}))}let s=w.map(e=>{let a=ed.find(a=>a.id===e);return{id:a.id,name:a.name,desc:a.desc,imageUrl:a.imageUrl}});await (0,o.pl)(r,{...eF,featuredFeatures:s,features:a,includes:ef,colors:eF.colors,banners:eF.banners,published:eF.published,linea:eF.linea}),console.log("Document written with ID: ",n)}catch(e){console.error("Error adding document: ",e)}eL({name:"",sku:"",link:"",categories:"",imgs:[],img360:"",gen:"",banners:[],shortDesc:"",longDesc:"",buyLink:"",featuredFeatures:[],customFeaturedFeatures:[],features:[],includes:[],noManual:!1,downloads:"",colors:[],selectedCollection:"",subCollection:"",published:!0,linea:""}),window.location.reload()}else P(!0),console.log("El nombre del documento ya existe.")},handleAddNewFeaturedFeature=async()=>{if(es&&el&&eo&&R){try{let e=(0,o.JU)(f,"featuredFeatures",es),a=(0,u.iH)(eG,"/featuredFeaturesImg"),n=(0,u.iH)(a,"".concat(es,".svg"));await (0,u.KV)(n,R);let r=await (0,u.Jt)(n);await (0,o.pl)(e,{id:es,name:el,desc:eo,imageUrl:r}),console.log("Document written with ID: ",es)}catch(e){console.error("Error adding document: ",e)}et(""),ei(""),ec(""),W(null)}else console.log("Ingresa el ID, el nombre, la descripci\xf3n y la imagen del nuevo featuredFeature.");let e=await (0,o.PL)(b),a=e.docs.map(e=>({id:e.id,...e.data()}));eu(a)},handleAddNewFeature=async()=>{if(eh&&eg){let e=ep.find(e=>e.id===eh);if(e){P(!0);return}try{let e=(0,o.JU)(f,"features",eh);await (0,o.pl)(e,{id:eh,name:eg}),console.log("Nueva caracter\xedstica agregada con ID:",eh)}catch(e){console.error("Error adding new feature:",e)}em(""),ex(""),P(!1)}else console.log("Ingresa el ID y el nombre de la nueva caracter\xedstica.")};async function isDocumentNameUnique(e){let a=(0,o.JU)(f,eF.selectedCollection,e),n=await (0,o.QT)(a);return!n.exists()}let eG=(0,u.cF)(),handleImageUpload=async e=>{let{name:a,files:n}=e.target,r=(0,u.iH)(eG,"/images");for(let e=0;e<n.length;e++){let a=n[e],s=(0,u.iH)(r,a.name);try{await (0,u.KV)(s,a);let e=await (0,u.Jt)(s);eL(a=>({...a,imgs:[...a.imgs,e]}))}catch(e){console.error("Error al cargar la imagen: ",e)}}console.log("URLs de im\xe1genes cargadas: ",eF.imgs)},handleFileUpload=async e=>{let{name:a,files:n}=e.target,r=(0,u.iH)(eG,"/images360"),s=[];for(let e=0;e<n.length;e++){let a=n[e],t=(0,u.iH)(r,a.name);try{await (0,u.KV)(t,a);let e=await (0,u.Jt)(t);s.push(e)}catch(e){console.error("Error al cargar la imagen 360: ",e)}}er(e=>[...e,...s])},handleAddNewInclude=async()=>{try{if(eN&&eI&&eZ){let e=(0,o.hJ)(f,"includes"),a=ew.find(e=>e.id===eN);if(a){P(!0);return}let n=(0,u.iH)(eG,"includesImg/".concat(eN));await (0,u.KV)(n,eZ);let r=await (0,u.Jt)(n);await (0,o.pl)((0,o.JU)(e,eN),{id:eN,name:eI,img:r}),eC(""),ey(""),ek(null)}else console.log("Ingrese el ID, el nombre y la imagen del nuevo include.")}catch(e){console.error("Error adding include:",e)}},handleBannerImageUpload=async e=>{let{files:a}=e.target,n=[];if(a.length>0){a[0];let e=(0,u.iH)(eG,"/bannerImages");for(let r=0;r<a.length;r++){let s=a[r],t=(0,u.iH)(e,s.name);try{await (0,u.KV)(t,s);let e=await (0,u.Jt)(t);eD({...eS,img:e}),n.push(e)}catch(e){console.error("Error al cargar la imagen del banner: ",e)}}}};return(0,r.jsxs)("div",{className:"mt-4 p-5 bg-primary text-white rounded center",children:[G&&(0,r.jsx)(h.Z,{message:"El producto ya existe. Por favor, elija un nombre de producto \xfanico.",onClose:()=>P(!1)}),(0,r.jsxs)("div",{className:"app-container",children:[(0,r.jsxs)("div",{className:"sidebar",children:[(0,r.jsx)("div",{className:"sidebar-header"}),(0,r.jsxs)("ul",{className:"sidebar-list",children:[(0,r.jsx)("li",{className:"sidebar-list-item",children:(0,r.jsxs)("a",{href:"#",onClick:()=>{U(!1),J(!1),E(!0),T(!1),H(!1),O(!1),X(!1),$(!1)},children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-shopping-bag",children:[(0,r.jsx)("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),(0,r.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,r.jsx)("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),(0,r.jsx)("span",{children:"Colecci\xf3n"})]})}),(0,r.jsx)("li",{className:"sidebar-list-item",children:(0,r.jsxs)("a",{href:"#",onClick:()=>{U(!1),E(!1),J(!0),T(!1),H(!1),O(!1),X(!1),$(!1)},children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-shopping-bag",children:[(0,r.jsx)("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),(0,r.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,r.jsx)("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),(0,r.jsx)("span",{children:"Categoria"})]})}),(0,r.jsx)("li",{className:"sidebar-list-item",children:(0,r.jsxs)("a",{href:"#",onClick:()=>{U(!1),E(!1),J(!1),T(!1),H(!1),O(!1),X(!1),$(!0)},children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-shopping-bag",children:[(0,r.jsx)("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),(0,r.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,r.jsx)("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),(0,r.jsx)("span",{children:"Datos de producto"})]})}),(0,r.jsx)("li",{className:"sidebar-list-item",children:(0,r.jsxs)("a",{href:"#",onClick:()=>{U(!0),E(!1),J(!1),T(!1),O(!1),H(!1),X(!1),$(!1)},children:[" ",(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-shopping-bag",children:[(0,r.jsx)("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),(0,r.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,r.jsx)("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),(0,r.jsx)("span",{children:"Banner"})]})}),(0,r.jsx)("li",{className:"sidebar-list-item",children:(0,r.jsxs)("a",{href:"#",onClick:()=>{U(!1),E(!1),J(!1),T(!0),H(!1),O(!1),X(!1),$(!1)},children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-shopping-bag",children:[(0,r.jsx)("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),(0,r.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,r.jsx)("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),(0,r.jsx)("span",{children:"Imagenes"})]})}),(0,r.jsx)("li",{className:"sidebar-list-item",children:(0,r.jsxs)("a",{href:"#",onClick:()=>{U(!1),E(!1),J(!1),T(!1),H(!0),O(!1),X(!1),$(!1)},children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-shopping-bag",children:[(0,r.jsx)("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),(0,r.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,r.jsx)("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),(0,r.jsx)("span",{children:"Caracteristicas destacadas"})]})}),(0,r.jsx)("li",{className:"sidebar-list-item",children:(0,r.jsxs)("a",{href:"#",onClick:()=>{U(!1),E(!1),J(!1),T(!1),H(!1),O(!0),X(!1),$(!1)},children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-shopping-bag",children:[(0,r.jsx)("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),(0,r.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,r.jsx)("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),(0,r.jsx)("span",{children:"Caracteristicas"})]})}),(0,r.jsx)("li",{className:"sidebar-list-item",children:(0,r.jsxs)("a",{href:"#",onClick:()=>{U(!1),E(!1),J(!1),T(!1),H(!1),O(!1),X(!0),$(!1)},children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-shopping-bag",children:[(0,r.jsx)("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),(0,r.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,r.jsx)("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),(0,r.jsx)("span",{children:"Incluye"})]})}),(0,r.jsxs)("li",{className:"sidebar-list-item",children:[" ",(0,r.jsx)("a",{children:(0,r.jsx)("span",{style:{color:"#151e2f"},children:"I"})})]}),(0,r.jsxs)("li",{className:"sidebar-list-item",children:[" ",(0,r.jsx)("a",{children:(0,r.jsx)("span",{style:{color:"#151e2f"},children:"I"})})]}),(0,r.jsxs)("li",{className:"sidebar-list-item",children:[" ",(0,r.jsx)("a",{children:(0,r.jsx)("span",{style:{color:"#151e2f"},children:"I"})})]}),(0,r.jsxs)("li",{className:"sidebar-list-item",children:[" ",(0,r.jsx)("a",{children:(0,r.jsx)("span",{style:{color:"#151e2f"},children:"I"})})]}),(0,r.jsxs)("li",{className:"sidebar-list-item",children:[" ",(0,r.jsx)("a",{children:(0,r.jsx)("span",{style:{color:"#151e2f"},children:"I"})})]}),(0,r.jsxs)("li",{className:"sidebar-list-item",children:[" ",(0,r.jsx)("a",{children:(0,r.jsx)("span",{style:{color:"#151e2f"},children:"I"})})]}),(0,r.jsxs)("li",{className:"sidebar-list-item",children:[" ",(0,r.jsx)("a",{children:(0,r.jsx)("span",{style:{color:"#151e2f"},children:"I"})})]}),(0,r.jsxs)("li",{className:"sidebar-list-item",children:[" ",(0,r.jsx)("a",{children:(0,r.jsx)("span",{style:{color:"#151e2f"},children:"I"})})]})]}),(0,r.jsxs)("div",{className:"account-info",children:[(0,r.jsx)("div",{className:"account-info-picture"}),(0,r.jsxs)("div",{className:"account-info-name",children:["User",(0,r.jsx)("h4",{children:a?a.email.split("@")[0]:"Not logged in"})]}),(0,r.jsx)("button",{className:"account-info-more",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-more-horizontal",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,r.jsx)("circle",{cx:"19",cy:"12",r:"1"}),(0,r.jsx)("circle",{cx:"5",cy:"12",r:"1"})]})})]})]}),(0,r.jsxs)("div",{className:"app-content",children:[(0,r.jsxs)("div",{className:"app-content-header",children:[(0,r.jsx)("h1",{className:"app-content-headerText",children:"Agregar producto"}),(0,r.jsx)("button",{onClick:()=>{e.push("/admin")},variant:"danger",className:"app-content-headerButton",children:"Volver"})]}),(0,r.jsxs)("div",{className:"app-content-actions",children:[Y&&(0,r.jsx)(AddProduct_ProductDataForm,{product:eF,handleChange:handleChange,handleFileUpload:handleFileUpload,handleImageUpload:handleImageUpload,selectedImagePreviews:S,selected360ImagePreviews:en,handleAddColor:()=>{""!==F.trim()&&(eL({...eF,colors:[...eF.colors,F]}),L(""))},colorInput:F,handleColorInputChange:e=>{L(e.target.value)},handleRemoveColor:e=>{let a=[...eF.colors];a.splice(e,1),eL({...eF,colors:a})},showFileUploadButton:ee}),M&&(0,r.jsx)(AddProduct_BannerForm,{bannerFields:eS,handleBannerImageUpload:handleBannerImageUpload,handleAddBanner:()=>{""!==eS.title.trim()&&(eL(e=>({...e,banners:[...e.banners,{...eS}]})),eD({title:"",img:"",desc:""}),B(!0),setTimeout(()=>{B(!1)},3e3))},showBannerAddedAlert:A,setBannerFields:eD}),_&&(0,r.jsx)(i.Z,{children:(0,r.jsxs)(i.Z.Group,{controlId:"selectedCollection",className:"nice-form-group",children:[(0,r.jsx)(i.Z.Label,{children:"Seleccione una colecci\xf3n:"}),(0,r.jsxs)(i.Z.Control,{as:"select",name:"selectedCollection",value:eF.selectedCollection,onChange:handleChange,required:!0,children:[(0,r.jsx)("option",{value:"",children:"Seleccione una colecci\xf3n"}),(0,r.jsx)("option",{value:"audio",children:"Audio"}),(0,r.jsx)("option",{value:"headsets",children:"Headsets"}),(0,r.jsx)("option",{value:"notebooks",children:"Notebooks"}),(0,r.jsx)("option",{value:"tablets",children:"Tablets"}),(0,r.jsx)("option",{value:"cooks",children:"Cooks"})]})]})}),V&&(0,r.jsxs)(i.Z,{children:[(0,r.jsxs)(i.Z.Group,{controlId:"categories",className:"nice-form-group",children:[(0,r.jsx)(i.Z.Label,{children:"Categor\xeda"}),(0,r.jsxs)(i.Z.Control,{as:"select",name:"categories",value:eF.categories,onChange:e=>{let a=e.target.value;handleChange(e);let n=d.gD.filter(e=>e.parent===Number(a));if(c(n),"Audio"===a){eB(!0);let e=j.Z[0].name;eL(a=>({...a,linea:e}))}else eB(!1),eL(e=>({...e,linea:""}))},required:!0,children:[(0,r.jsx)("option",{value:"",children:"Seleccione una categor\xeda"}),d.Lm.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.id?"id=".concat(e.id):""," ",e.name]},e.id))]})]}),n.length>0&&(0,r.jsxs)(i.Z.Group,{controlId:"secondCategories",className:"nice-form-group",children:[(0,r.jsx)(i.Z.Label,{children:"Segunda Categor\xeda"}),(0,r.jsxs)(i.Z.Control,{as:"select",name:"secondCategories",value:eF.secondCategory,onChange:e=>{let a=e.target.value;handleChange(e);let n=d.ll.filter(e=>e.parent===Number(a));p(n),eB(n)},required:!0,children:[(0,r.jsx)("option",{value:"",children:"Seleccione una categor\xeda"}),n.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.id?"id=".concat(e.id):""," ",e.name]},e.id))]})]}),x.length>0&&(0,r.jsxs)(i.Z.Group,{controlId:"thirdsCategories",className:"nice-form-group",children:[(0,r.jsx)(i.Z.Label,{children:"Tercera Categor\xeda"}),(0,r.jsxs)(i.Z.Control,{as:"select",name:"thirdsCategories",value:eF.thirdCategory,onChange:handleChange,required:!0,children:[(0,r.jsx)("option",{value:"",children:"Seleccione una categor\xeda"}),x.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.id?"id=".concat(e.id):""," ",e.name]},e.id))]})]}),eA&&"1"===eF.categories&&(0,r.jsxs)(i.Z.Group,{controlId:"thirdsCategories",className:"nice-form-group",children:[(0,r.jsx)(i.Z.Label,{children:"Linea"}),(0,r.jsxs)(i.Z.Control,{as:"select",name:"linea",value:eF.linea,onChange:handleChange,required:!0,children:[(0,r.jsx)("option",{value:"",children:"Seleccione una linea"}),j.Z.map(e=>(0,r.jsx)("option",{value:e.name,children:e.displayName},e.name))]})]})]}),q&&(0,r.jsxs)(i.Z.Group,{controlId:"imgs",className:"nice-form-group",children:[(0,r.jsx)(i.Z.Label,{children:"Cargar im\xe1genes"}),(0,r.jsx)(i.Z.Control,{className:"form-title",type:"file",name:"imgs",onChange:handleImageUpload,multiple:!0}),(0,r.jsx)("div",{className:"image-preview-container",children:S.map((e,a)=>(0,r.jsx)("img",{className:"image-previews",src:e,alt:"Imagen ".concat(a)},a))})]}),z&&(0,r.jsx)(FeaturedFeatureForm,{newFeaturedFeatureId:es,newFeaturedFeatureName:el,newFeaturedFeatureDesc:eo,newFeaturedFeatureImage:R,dbFeaturedFeatures:ed,handleAddNewFeaturedFeature:handleAddNewFeaturedFeature,handleFeaturedFeatureChange:e=>{let{value:a}=e.target;v(e=>e.includes(a)?e.filter(e=>e!==a):[...e,a])},selectedFeaturedFeatures:w,handleRemoveFeaturedFeature:e=>{v(a=>a.filter(a=>a!==e))},setNewFeaturedFeatureId:et,setNewFeaturedFeatureName:ei,setNewFeaturedFeatureDesc:ec,setNewFeaturedFeatureImage:W}),K&&(0,r.jsx)(AddProduct_FeaturesForm,{newFeatureId:eh,setNewFeatureId:em,newFeatureName:eg,setNewFeatureName:ex,dbFeatures:ep,handleAddNewFeature:handleAddNewFeature,showAlert:G,setShowAlert:P,handleFeaturesChange:e=>{let{value:a}=e.target;C(e=>e.includes(a)?e.filter(e=>e!==a):[...e,a]),y(e=>({...e,[a]:""}))},selectedFeatures:N,handleRemoveFeature:e=>{C(a=>a.filter(a=>a!==e))},featureValueInputs:Z,handleFeatureValueChange:(e,a)=>{let{value:n}=e.target;k(e=>({...e,[a]:n}))}}),Q&&(0,r.jsx)(AddProduct_IncludesForm,{newIncludeId:eN,setNewIncludeId:eC,newIncludeName:eI,setNewIncludeName:ey,allIncludes:ew,handleImageChange:e=>{let a=e.target.files[0];ek(a)},handleAddNewInclude:handleAddNewInclude,handleIncludesChange:e=>{let{value:a}=e.target;eb(e=>e.includes(a)?e.filter(e=>e!==a):[...e,a])},selectedIncludes:ef,handleRemoveIncludes:e=>{eb(a=>a.filter(a=>a!==e))}})]}),(0,r.jsx)(l.Z,{onClick:handleSubmit,variant:"danger",className:"app-content-headerButton",children:"Guardar Producto"})]})]})]})};function NewProduct(){return(0,r.jsx)(components_AddProduct,{})}}},function(e){e.O(0,[662,739,317,503,774,888,179],function(){return e(e.s=6769)}),_N_E=e.O()}]);